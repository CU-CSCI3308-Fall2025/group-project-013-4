{{> header}}

<link rel="stylesheet" href="/resources/css/profile.css">

<div class="profile-page container">

  <!-- PROFILE HEADER -->
  <section class="profile-header flex items-center gap-6 py-6 border-b border-gray-300">
    <img src="{{user.profile_picture}}" alt="{{user.username}}" class="profile-avatar w-24 h-24 rounded-full object-cover shadow-md">
    <div class="profile-info">
      <h1 class="text-2xl font-bold">{{user.username}}</h1>
      <p class="text-gray-600">{{user.email}}</p>
    </div>
  </section>

  <!-- PROFILE STATS -->
  <section class="profile-stats flex gap-8 py-4 border-b border-gray-300">
    <div class="stat">
      <span class="stat-number font-semibold">{{posts.length}}</span>
      <span class="stat-label text-gray-500">Posts</span>
    </div>
    {{!-- Add more stats like friends, saved amount, etc. --}}
  </section>

  <!-- PROFILE POSTS -->
  <section class="profile-posts py-6">
    <h2 class="text-xl font-semibold mb-4">Posts</h2>
    {{#if posts.length}}
    <div id="profilePosts" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
      {{#each posts}}
      <div class="post-card p-4 border rounded shadow-sm hover:shadow-md transition duration-200">
        <div class="post-header flex justify-between mb-2">
          <div class="post-amount text-lg font-semibold text-green-600">
            ${{amount}}
          </div>
          <div class="post-category text-gray-500 font-medium">
            {{category}}
          </div>
        </div>

        {{!-- NEW: Post Image --}}
      {{#if image_url}}
        <img class="post-image" src="{{image_url}}" alt="Post Image">
      {{/if}}

        <p class="post-description text-gray-700 mb-2">{{description}}</p>
        <p class="post-date text-gray-400 text-sm">{{created_at}}</p>
      </div>
      {{/each}}
    </div>
    {{else}}
    <p class="text-gray-500">This user hasnâ€™t posted anything yet.</p>
    {{/if}}
  </section>

</div>


{{> footer}}