{{> header isBudget=true }}

<main class="main-container budget-container">
  <div class="content-grid">

        <aside class="sidebar">

        {{!-- <div class="card"> --}}
            <section class="chart-section">
              <div class="chart-container">
                <canvas id="budgetChart"></canvas>
              </div>
            </section>
        {{!-- </div> --}}

        <div id="envelopesSummary" class="envelopes-summary"></div>

        <button id="openBudgetModal" class="btn-primary set-budget-btn">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="10"></circle>
          <line x1="12" y1="8" x2="12" y2="16"></line>
          <line x1="8" y1="12" x2="16" y2="12"></line>
        </svg>
          Set Budget
        </button>

        <div id="budgetModal" class="modal">
          <div class="modal-content">
            <span class="close-modal">&times;</span>
                <!--set budget-->
                  <h2>Set Budget</h2>
                  <form id="budgetForm" class="budget-form">
                    <div class="form-group">
                      <label>Category</label>
                      <select id="budgetCategory" required>
                        <!--same categories as transactions -->
                        <option value="">Select a category</option>
                        <option>Food</option>
                        <option>Groceries</option>
                        <option>Transportation</option>
                        <option>Shopping</option>
                        <option>Entertainment</option>
                        <option>Bills</option>
                        <option>Pets</option>
                        <option>Health</option>
                        <option>Other</option>
                      </select>
                    </div>

                    <div class="form-group">
                      <label>Budget Amount ($)</label>
                      <input type="number" id="budgetAmount" step="0.01" min="0" required />
                    </div>

                    <div class="form-group">
                      <label>Period</label>
                      <select id="budgetPeriod">
                        <option value="monthly" selected>Monthly</option>
                      </select>
                    </div>

                    <button type="submit" class="btn-primary">Save Budget</button>
                  </form>
                </div>
              </div>      

      </aside>

    <div class="budget-header">
        <h1>Your Budgets</h1>

    <section class="envelopes-section">
      <!-- Total Budget / Spent / Remaining -->
      

        <div id="envelopesList" class="envelopes-grid">
          <div id="envelopesEmptyState" class="empty-text">
            <p>No envelopes/budgets available!</p>
            <p>Use the form above to set a budget for a category.</p>
          </div>
        </div>
      </section>

    </div>

  </div>
</main>

{{> footer year=year }}