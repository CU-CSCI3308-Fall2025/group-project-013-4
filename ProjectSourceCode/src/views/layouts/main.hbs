<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{{#if title}}{{title}} - WalletWatch{{else}}WalletWatch{{/if}}</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Main global styles -->
    <link rel="stylesheet" href="/resources/css/style.css" />

    <!-- Load transaction styles ONLY on /addtransaction -->
    {{#if isAddTransaction}}
      <link rel="stylesheet" href="/resources/css/transactions.css" />
    {{/if}}
  </head>

  <body class="{{bodyClass}}">
    {{{body}}}

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- GLOBAL CORE MODULES -->
    <script src="/resources/js/api.js"></script>
    <script src="/resources/js/auth.js"></script>
    <script src="/resources/js/ui.js"></script>

    <!-- HOME PAGE + FEED MODULES -->
    {{#if isHome}}
      {{#if googleMapsApiKey}}
        <script
          id="googleMapsApiScript"
          src="https://maps.googleapis.com/maps/api/js?key={{googleMapsApiKey}}&libraries=places"
          async
          defer
        ></script>
      {{/if}}
      <script src="/resources/js/posts.location.js"></script>
      <script src="/resources/js/posts.js"></script>
      <script src="/resources/js/posts.modal.js"></script>
      <script src="/resources/js/posts.stream.js"></script>
      <script src="/resources/js/home.js"></script>
    {{/if}}

    <!-- ADD TRANSACTION PAGE -->
    {{#if isAddTransaction}}
      <script src="/resources/js/transactions.js"></script>
    {{/if}}

    <!-- SETTINGS PAGE -->
    {{#if isSettings}}
      <script src="/resources/js/settings.js"></script>
    {{/if}}

    {{#if isFriends}}
          <script src="/resources/js/friends.js"></script>
          <script src="/resources/js/settings.js"></script>
          <link rel="stylesheet" href="/resources/css/friends.css" />
    {{/if}}
  </body>
</html>
